(function(t){function e(e){for(var n,s,i=e[0],l=e[1],u=e[2],c=0,f=[];c<i.length;c++)s=i[c],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&f.push(r[s][0]),r[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);d&&d(e);while(f.length)f.shift()();return o.push.apply(o,u||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],n=!0,s=1;s<a.length;s++){var l=a[s];0!==r[l]&&(n=!1)}n&&(o.splice(e--,1),t=i(i.s=a[0]))}return t}var n={},r={app:0},o=[];function s(t){return i.p+"js/"+({about:"about"}[t]||t)+"."+{about:"a9c12dfd"}[t]+".js"}function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.e=function(t){var e=[],a=r[t];if(0!==a)if(a)e.push(a[2]);else{var n=new Promise((function(e,n){a=r[t]=[e,n]}));e.push(a[2]=n);var o,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=s(t);var u=new Error;o=function(e){l.onerror=l.onload=null,clearTimeout(c);var a=r[t];if(0!==a){if(a){var n=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+n+": "+o+")",u.name="ChunkLoadError",u.type=n,u.request=o,a[1](u)}r[t]=void 0}};var c=setTimeout((function(){o({type:"timeout",target:l})}),12e4);l.onerror=l.onload=o,document.head.appendChild(l)}return Promise.all(e)},i.m=t,i.c=n,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/",i.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var d=u;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var n=a("85ec"),r=a.n(n);r.a},1:function(t,e){},1451:function(t,e,a){},"1e9a":function(t,e,a){"use strict";var n=a("f748"),r=a.n(n);r.a},2442:function(t,e,a){"use strict";var n=a("e303"),r=a.n(n);r.a},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{attrs:{id:"nav"}},[a("H2",[t._v("Navigus Assigment - 1 ")]),t.logged?a("b-button",{staticClass:"pad",attrs:{variant:"outline-danger",size:"sm"},on:{click:function(e){return e.preventDefault(),t.signOut()}}},[t._v("Sign Out")]):t._e(),t.logged?a("b-button",{staticClass:"pad",attrs:{variant:"outline-primary",size:"sm"},on:{click:function(e){return e.preventDefault(),t.gotoDashBoad()}}},[t._v(" DashBoad")]):t._e()],1),a("router-view")],1)},o=[],s=a("8aa5"),i=a.n(s),l={name:"app",computed:{logged:function(){return this.$store.state.user.loggedIn}},methods:{signOut:function(){var t=this;i.a.auth().signOut().then((function(){t.$router.push("/")}))},gotoDashBoad:function(){this.$router.push("/dashboard")}}},u=l,c=(a("034f"),a("2877")),d=Object(c["a"])(u,r,o,!1,null,null,null),f=d.exports,m=(a("d3b7"),a("8c4f")),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("b-container",{staticClass:"bv-example-row"},[a("b-row",[a("b-col",{attrs:{lg:"5",id:"login"}},[a("h2",[t._v("Login")]),a("LogIn")],1),a("b-col",{attrs:{"offset-lg":"1",lg:"6"}},[a("h2",[t._v("Sign Up")]),a("SignUp")],1)],1)],1)],1)},b=[],h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-form",{staticClass:"LoginForm",on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[a("b-form-group",{staticClass:"left-txt",attrs:{id:"email-group","label-cols-sm":"2","label-cols-lg":"2",label:"E-mail","label-for":"email"}},[a("b-form-input",{attrs:{id:"email",type:"email",required:""},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),a("b-form-group",{staticClass:"left-txt",attrs:{id:"pass-group","label-cols-sm":"2","label-cols-lg":"2",label:"Password","label-for":"pass"}},[a("b-form-input",{attrs:{id:"pass",type:"password",required:""},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),a("b-button",{staticClass:"button",attrs:{type:"submit",variant:"primary"}},[t._v("Log In")]),a("b-button",{staticClass:"button",attrs:{type:"reset",variant:"outline-danger"},on:{click:function(e){return e.preventDefault(),t.onResetPass()}}},[t._v("Reset Password")])],1)],1)},v=[],g={name:"LogIn",data:function(){return{form:{email:"",password:""}}},methods:{onSubmit:function(){var t=this;i.a.auth().signInWithEmailAndPassword(this.form.email,this.form.password).then((function(e){console.log(e),t.$router.push("dashboard")})).catch((function(t){alert(t.message),console.log(t)}))},onResetPass:function(){i.a.auth().sendPasswordResetEmail(this.form.email).then((function(){alert("Reset Email Sent, Please cheack your Inbox")})).catch((function(t){alert(t.message),console.log(t)}))}}},w=g,y=(a("8a63"),Object(c["a"])(w,h,v,!1,null,"ae3ff1e4",null)),_=y.exports,x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-form",{staticClass:"SignupForm"},[a("b-form-group",{staticClass:"left-txt",attrs:{id:"name-group","label-cols-sm":"2","label-cols-lg":"2",label:"Name","label-for":"name"}},[a("b-form-input",{attrs:{id:"name",required:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("b-form-group",{staticClass:"left-txt",attrs:{id:"email-group","label-cols-sm":"2","label-cols-lg":"2",label:"E-mail","label-for":"email"}},[a("b-form-input",{attrs:{id:"eamil",type:"email",required:""},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),a("b-form-group",{staticClass:"left-txt",attrs:{id:"pass-group","label-cols-sm":"2","label-cols-lg":"2",label:"Password","label-for":"pass",description:"password should be atlest 6 characters"}},[a("b-form-input",{attrs:{id:"password",type:"password",required:""},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),a("b-button",{attrs:{id:"button",type:"submit",variant:"primary"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.onSubmit()}}},[t._v("Sign Up")])],1)],1)},k=[],C=(a("b0c0"),a("25f0"),a("498a"),{name:"SignUp",data:function(){return{form:{name:"",email:"",password:""}}},methods:{onSubmit:function(){var t=this;i.a.auth().createUserWithEmailAndPassword(this.form.email.toString().trim(),this.form.password).then((function(e){e.user.updateProfile({displayName:t.form.name}).then((function(){alert("new user created!!! login now"),t.form.name="",t.form.email="",t.form.password=""})),e.user.sendEmailVerification(),console.log(e)})).catch((function(t){console.log(t)}))}}}),S=C,$=(a("2442"),Object(c["a"])(S,x,k,!1,null,"4a68d54a",null)),E=$.exports,O={name:"Home",components:{LogIn:_,SignUp:E}},P=O,D=(a("8b76"),Object(c["a"])(P,p,b,!1,null,"37c3f9e9",null)),j=D.exports,I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard"},[a("h3",[t._v("Welcome back "+t._s(this.$store.state.user.data.displayName)+"!!!")]),a("b-container",[a("b-row",{attrs:{"align-h":"center"}},[a("b-col",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.left",modifiers:{hover:!0,left:!0}}],attrs:{md:"3",title:"click me"}},[a("b-card",{staticClass:"text-center card",attrs:{"bg-variant":"dark",header:"Doc 1","text-variant":"white"},on:{click:function(e){return t.docView(1)}}},[a("b-card-text",[t._v("Click on this document to view information about the concurrent user and the user last visited to this documents")])],1)],1),a("b-col",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.right",modifiers:{hover:!0,right:!0}}],attrs:{md:"3",title:"click me"}},[a("b-card",{staticClass:"text-center card",attrs:{"bg-variant":"success",header:"Doc 2 - Bonus Point","text-variant":"white"},on:{click:function(e){return t.docView(2)}}},[a("b-card-text",[t._v("This doc is restricted for the users with unverified email address, kindly look into your inbox to confirm you account verification")])],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-card",{attrs:{"border-variant":"dark",header:"Add new documents",align:"center"},on:{click:t.addDoc}},[a("b-card-text",[a("b-icon",{staticClass:"h1 mb-2",attrs:{icon:"file-earmark-plus"}})],1)],1)],1)],1)],1)],1)},U=[],N={name:"Dashboard",methods:{addDoc:function(){alert("Work in progress")},docView:function(t){this.$router.push({path:"/docview/".concat(t)})}}},A=N,L=(a("1e9a"),Object(c["a"])(A,I,U,!1,null,"5818f098",null)),V=L.exports,T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"DocView"},[a("ConcurrentUsers",{attrs:{doc:"t"}})],1)},M=[],R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard"},[a("b-container",{staticClass:"bv-example-row"},[a("b-row",{attrs:{"align-h":"center"}},[a("b-col",{attrs:{cols:"3"}},[a("b-avatar-group",{staticClass:"avagrp",attrs:{size:"60px"}},t._l(t.userMap,(function(t){return a("b-avatar",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],key:t[0],attrs:{variant:t[1].avaCol,text:t[1].avtxt,title:t[1].name}})})),1)],1)],1)],1)],1)},z=[],q={name:"ConcurrentUser",data:function(){return{userMap:[]}},created:function(){var t=this;this.$socket.client.on("updatedUser",(function(e){t.userMap=e,t.userMap.reverse()}))},beforeDestroy:function(){console.log("destoryed components"),this.$socket.client.emit("destroyUser",this.$store.state.user.data.uid)},destroyed:function(){this.$socket.client.off()}},F=q,G=Object(c["a"])(F,R,z,!1,null,"3d441237",null),B=G.exports,H={name:"DocView",components:{ConcurrentUsers:B},computed:{},created:function(){this.$socket.client.emit("addConUser",{uid:this.$store.state.user.data.uid,name:this.$store.state.user.data.displayName,doc:this.$route.params.id})}},W=H,J=Object(c["a"])(W,T,M,!1,null,"55c24428",null),Y=J.exports,K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"NotAuth"},[a("H1",[t._v("You are not authorized, Please login or confirm your email")])],1)},Q=[],X={name:"ConcurrentUser"},Z=X,tt=Object(c["a"])(Z,K,Q,!1,null,"00aaadd9",null),et=tt.exports,at=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("H1",[t._v("Page Not Found")])],1)},nt=[],rt={name:"PageNotFound"},ot=rt,st=Object(c["a"])(ot,at,nt,!1,null,"6b4fc168",null),it=st.exports,lt=a("2f62");n["default"].use(lt["a"]);var ut=new lt["a"].Store({state:{user:{loggedIn:!1,data:null}},getters:{user:function(t){return t.user}},mutations:{SET_LOGGED_IN:function(t,e){t.user.loggedIn=e},SET_USER:function(t,e){t.user.data=e}},actions:{fetchUser:function(t,e){var a=t.commit;a("SET_LOGGED_IN",null!==e),a("SET_USER",e?{displayName:e.displayName,email:e.email,uid:e.uid,emailVerified:e.emailVerified}:null)}},modules:{}});n["default"].use(m["a"]);var ct=[{path:"",name:"Home",component:j},{path:"/dashboard",name:"Dashboard",component:V},{path:"/docview/:id",name:"DocView",component:Y,beforeEnter:function(t,e,a){"1"!=t.params.id&&"2"!=t.params.id?a("/pagenotfound"):2==t.params.id&&0==ut.state.user.data.emailVerified||!1===ut.state.user.loggedIn?a("/notauth"):a()}},{path:"/notauth",name:"NotAuth",component:et},{path:"/pagenotfound",name:"PageNotFound",component:it},{path:"/about",name:"About",component:function(){return a.e("about").then(a.bind(null,"f820"))}}],dt=new m["a"]({mode:"history",base:"/",routes:ct}),ft=dt,mt=(a("f9e3"),a("2dd8"),a("5f5b")),pt=a("b1e0"),bt=a("f87c"),ht=a("8055"),vt=a.n(ht),gt={apiKey:"AIzaSyADRI6udeosizFMUSVNJzOjufhgad_h0oI",authDomain:"navigus-assignment-1.firebaseapp.com",databaseURL:"https://navigus-assignment-1.firebaseio.com",projectId:"navigus-assignment-1",storageBucket:"navigus-assignment-1.appspot.com",messagingSenderId:"169413578854",appId:"1:169413578854:web:7d650518458d7b45119da7",measurementId:"G-Y46GT5DL61"};s["initializeApp"](gt),s["auth"]().onAuthStateChanged((function(t){ut.dispatch("fetchUser",t)})),n["default"].use(mt["a"]),n["default"].use(pt["a"]);var wt=vt()("http://localhost:8080");n["default"].use(bt["a"],wt),new n["default"]({router:ft,store:ut,render:function(t){return t(f)}}).$mount("#app")},"71d6":function(t,e,a){},"85ec":function(t,e,a){},"8a63":function(t,e,a){"use strict";var n=a("71d6"),r=a.n(n);r.a},"8b76":function(t,e,a){"use strict";var n=a("1451"),r=a.n(n);r.a},e303:function(t,e,a){},f748:function(t,e,a){}});
//# sourceMappingURL=app.cbc8cd8a.js.map